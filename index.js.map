{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n// import { createGalleryCardTemplate } from '.js/render-functions';\n\n// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nlet lightboxInstance = null;\n\n// 🔑 ФУНКЦІЯ ІНІЦІАЛІЗАЦІЇ/ОНОВЛЕННЯ LIGHTBOX\nconst initLightbox = () => {\n    // Якщо екземпляр ще не створено, створюємо його вперше\n    if (!lightboxInstance) {\n        lightboxInstance = new SimpleLightbox('.js-gallery a', {\n            // Використовуємо .js-gallery a, щоб таргетувати всі посилання \n            // всередині контейнера галереї\n            captionDelay: 250,\n            captionsData: 'alt',\n        });\n    } else {\n        // Якщо екземпляр вже існує, оновлюємо його (метод refresh())\n        lightboxInstance.refresh();\n    }\n}\n\nconst createGalleryCardTemplate = imgInfo => {\n  \n\n  return `\n\n    <li class=\"gallery-card\">\n    <a class = \"js-gallery-link\" href = \"${imgInfo.largeImageURL}\"> <img class=\"gallery-img\" src=\"${imgInfo.webformatURL}\" alt=\"${imgInfo.tags}\"/></a>\n    <div class=\"stats-container\">\n        <ul class=\"stats-list\">\n            <li class=\"gallery-item\">\n                <span class=\"label\">Likes</span>\n                <span class=\"value\">${imgInfo.likes}</span>\n            </li>\n            <li class=\"gallery-item\">\n                <span class=\"label\">Views</span>\n                <span class=\"value\">${imgInfo.views}</span>\n            </li>\n            <li class=\"gallery-item\">\n                <span class=\"label\">Comments</span>\n                <span class=\"value\">${imgInfo.comments}</span>\n            </li>\n            <li class=\"gallery-item\">\n                <span class=\"label\">Downloads</span>\n                <span class=\"value\">${imgInfo.downloads}</span>\n            </li>\n        </ul>\n    </div>\n</li>`\n};\n\n//TODO1 Форма пошуку\nconst refs = {\n    searchForm: document.querySelector('.js-search-form'),\n    gallery: document.querySelector('.js-gallery')\n}\n\nconst onSearchFormSubmit = event => {\n    event.preventDefault();\n\n    const {target : searchForm} = event;\n\n    const searchedQuery = searchForm.elements.user_query.value.trim()\n    \n\n    if (searchedQuery.length === 0) {\n        \n         iziToast.show({\n    title: \"WARRNING\",\n    message: `It can't be empty!`,\n    color: 'red', // blue, red, green, yellow\n    position: 'topCenter', // bottomRight, bottomLeft, topRight, topLeft, topCenter, bottomCenter, center\n\n});\n\n        return;\n    }\n\n    console.log(searchedQuery)\n    refs.gallery.innerHTML = '';\n\n    fetch(\n        `https://pixabay.com/api/?key=52947144-373b760a7dc07b63f24b6c37a&q=${searchedQuery}&image_type=photo&orientation=horizontal&safesearch=true`\n    )\n    .then (response => {\n        if (!response.ok) {\n            throw new Error(response.status);\n        }\n        return response.json();\n    })\n    .then(data => {\n        console.log(data)\n        if (data.hits.length === 0){\n            iziToast.show({\n    message: 'Sorry, there are no images matching your search query. Please try again!',\n    color: 'red', // blue, red, green, yellow\n    position: 'topCenter', // bottomRight, bottomLeft, topRight, topLeft, topCenter, bottomCenter, center\n\n});\n    return\n        }\n\n        const galleryCardTemplate = data.hits.map(pictureInfo => createGalleryCardTemplate(pictureInfo)).join('')\n        refs.gallery.innerHTML = galleryCardTemplate\n        initLightbox();\n\n    })\n    .catch(err => {\n        console.log(err);\n    });\n}\n\nrefs.searchForm.addEventListener('submit', onSearchFormSubmit)\n\n\n\n//TODO_2 HTTP-запити\n"],"names":["lightboxInstance","initLightbox","SimpleLightbox","createGalleryCardTemplate","imgInfo","refs","onSearchFormSubmit","event","searchForm","searchedQuery","iziToast","response","data","galleryCardTemplate","pictureInfo","err"],"mappings":"6vBAWA,IAAIA,EAAmB,KAGvB,MAAMC,EAAe,IAAM,CAElBD,EASDA,EAAiB,QAAO,EARxBA,EAAmB,IAAIE,EAAe,gBAAiB,CAGnD,aAAc,IACd,aAAc,KAC1B,CAAS,CAKT,EAEMC,EAA4BC,GAGzB;AAAA;AAAA;AAAA,2CAGkCA,EAAQ,aAAa,oCAAoCA,EAAQ,YAAY,UAAUA,EAAQ,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,sCAKxGA,EAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,sCAIbA,EAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,sCAIbA,EAAQ,QAAQ;AAAA;AAAA;AAAA;AAAA,sCAIhBA,EAAQ,SAAS;AAAA;AAAA;AAAA;AAAA,OAQjDC,EAAO,CACT,WAAY,SAAS,cAAc,iBAAiB,EACpD,QAAS,SAAS,cAAc,aAAa,CACjD,EAEMC,EAAqBC,GAAS,CAChCA,EAAM,eAAc,EAEpB,KAAM,CAAC,OAASC,CAAU,EAAID,EAExBE,EAAgBD,EAAW,SAAS,WAAW,MAAM,KAAM,EAGjE,GAAIC,EAAc,SAAW,EAAG,CAE3BC,EAAS,KAAK,CACnB,MAAO,WACP,QAAS,qBACT,MAAO,MACP,SAAU,WAEd,CAAC,EAEO,MACH,CAED,QAAQ,IAAID,CAAa,EACzBJ,EAAK,QAAQ,UAAY,GAEzB,MACI,qEAAqEI,CAAa,0DACrF,EACA,KAAME,GAAY,CACf,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MACxB,CAAK,EACA,KAAKC,GAAQ,CAEV,GADA,QAAQ,IAAIA,CAAI,EACZA,EAAK,KAAK,SAAW,EAAE,CACvBF,EAAS,KAAK,CACtB,QAAS,2EACT,MAAO,MACP,SAAU,WAEd,CAAC,EACG,MACK,CAED,MAAMG,EAAsBD,EAAK,KAAK,IAAIE,GAAeX,EAA0BW,CAAW,CAAC,EAAE,KAAK,EAAE,EACxGT,EAAK,QAAQ,UAAYQ,EACzBZ,GAER,CAAK,EACA,MAAMc,GAAO,CACV,QAAQ,IAAIA,CAAG,CACvB,CAAK,CACL,EAEAV,EAAK,WAAW,iBAAiB,SAAUC,CAAkB"}